(function(t){"use strict";var e=[],i=[],o={};Array.prototype.insert=function(t,e){this.splice(t,0,e)},o.passwordListener=function(i,o){var s=""==o.passwordField?".disabledAutoFillPassword":o.passwordField;i.find("[type=password]").length>0&&i.find("[type=password]").attr("type","text").addClass("disabledAutoFillPassword"),i.on("keyup",s,function(){for(var i=t(this).val(),s=i.length,n=this.selectionStart,a=0;a<s;a++)"*"!=i[a]&&("undefined"==typeof e[a]?e[a]=i[a]:n!=s&&e.insert(n-1,i[a]));t(this).val(i.replace(/./g,"*")),o.debugMode&&(console.log("Current keyup position: "+n),console.log("Password length: "+s),console.log("Real password:"),console.log(e))})},o.formSubmitListener=function(e,i){var s=""==i.submitButton?".disableAutoFillSubmit":i.submitButton;e.on("click",s,function(n){o.restoreInput(e,i),i.callback.call()&&(i.debugMode?console.log(e.serialize()):i.html5FormValidate?(t(s).attr("type","submit").trigger("submit"),setTimeout(function(){t(s).attr("type","button")},1e3)):e.submit())})},o.randomizeInput=function(e,o){e.find("input").each(function(e){i[e]=t(this).attr("name"),t(this).attr("name",Math.random().toString(36).replace(/[^a-z]+/g,""))})},o.restoreInput=function(o,s){s.randomizeInputName&&o.find("input").each(function(e){t(this).attr("name",i[e])}),s.textToPassword&&o.find(s.passwordField).attr("type","password"),o.find(s.passwordField).val(e.join(""))},t.fn.disableAutoFill=function(e){var i=t.extend({},t.fn.disableAutoFill.defaults,e);this.attr("autocomplete","off"),this.find("[type=submit]").length>0&&this.find("[type=submit]").addClass("disableAutoFillSubmit").attr("type","button"),""!=i.submitButton&&this.find(i.submitButton).addClass("disableAutoFillSubmit").attr("type","button"),i.randomizeInputName&&o.randomizeInput(this,i),o.passwordListener(this,i),o.formSubmitListener(this,i)},t.fn.disableAutoFill.defaults={debugMode:!1,textToPassword:!0,randomizeInputName:!0,passwordField:"",html5FormValidate:!1,submitButton:"",callback:function(){return!0}}})(jQuery);
